<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
      
    <f:view contentType="text/html;charset=UTF-8" encoding="UTF-8">
        <ui:composition>
            <p:dataTable id="userList" var="entity" value="#{cadastroUsuarioBean.entities}" selectionMode="single" selection="#{cadastroUsuarioBean.entitySelecionada}" rowKey="#{entity.id}" paginator="true" rows="10">
                <p:column headerText="Login">
                    <h:outputText value="#{entity.nome}" />
                </p:column>
                <p:column headerText="Email">
                    <h:outputText value="#{entity.email}" />
                </p:column>
                <p:column headerText="Ações">
                    <p:commandButton value="Editar" action="#{cadastroUsuarioBean.editar}" process="@form" ajax="false" icon="pi pi-pencil" style="margin: 1%;">
                        <f:setPropertyActionListener target="#{cadastroUsuarioBean.entity}" value="#{entity}" />
                    </p:commandButton>
                    <p:commandButton value="Excluir" action="#{cadastroUsuarioBean.excluir}" process="@form" ajax="false" icon="pi pi-trash">
                        <f:setPropertyActionListener target="#{cadastroUsuarioBean.entity}" value="#{entity}" />
                    </p:commandButton>
                </p:column>
            </p:dataTable>
        </ui:composition>
    </f:view>
</html>
